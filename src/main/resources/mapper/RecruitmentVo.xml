<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.teamProj.dao.RecruitmentInfoDao">
    <select id="queryRecruitmentInfo" resultType="com.teamProj.entity.vo.RecruitmentVo">
        SELECT r.recruitment_id,
        job_title,
        company_name,
        city,
        min_salary,
        max_salary,
        byword,
        IF(r.recruitment_id=m.recruitment_id AND m.student_id=#{userId}, 1, 0) AS state
        FROM recruitment_info as r,marked_recruitment_info as m
        WHERE 1=1
            AND (r.job_title LIKE CONCAT('%', #{queryInfo}, '%')
            OR r.company_name LIKE CONCAT('%', #{queryInfo}, '%'))
            AND r.min_salary &gt;= #{minSalary}
            AND r.max_salary &lt;= #{maxSalary}

    </select>
</mapper>